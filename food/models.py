from django.db import models
from django.contrib.auth.models import User
from django.urls import reverse

# Create your models here.

#Blueprint to our database
class Item(models.Model):
    username = models.ForeignKey(User, on_delete=models.CASCADE, default=1)
    item_name = models.CharField(max_length=200)
    item_desc = models.TextField(max_length=2000)
    item_price = models.IntegerField()
    item_image = models.CharField(max_length=4000,
                                  default='data:image/jpeg;base64,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')

    def __str__(self) -> str:
        return self.item_name
    
    def get_absolute_url(self):
        return reverse('food:prod_details', kwargs={'pk':self.pk})

